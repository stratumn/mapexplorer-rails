{"version":3,"file":null,"sources":["../src/deprecated.js","../src/makeQueryString.js","../node_modules/httpplease/plugins/jsonrequest.js","../node_modules/httpplease/plugins/jsonresponse.js","../node_modules/httpplease/plugins/json.js","../node_modules/httpplease/plugins/cleanurl.js","../node_modules/httpplease/lib/xhr-browser.js","../node_modules/httpplease/lib/utils/delay.js","../node_modules/httpplease/lib/request.js","../node_modules/xtend/index.js","../node_modules/httpplease/lib/utils/extractResponseProps.js","../node_modules/httpplease/lib/response.js","../node_modules/httpplease/lib/error.js","../node_modules/httpplease/lib/utils/once.js","../node_modules/httpplease/lib/index.js","../src/request.js","../src/findSegments.js","../src/getBranches.js","../src/segmentify.js","../src/createMap.js","../src/getSegment.js","../src/getMapIds.js","../src/getLink.js","../src/getMap.js","../src/getAgent.js","../src/fromSegment.js","../src/config.js","../src/getApplication.js","../src/loadLink.js"],"sourcesContent":["export default function deprecated(oldFunc, newFunc) {\n  if (!newFunc) {\n    console.warn(`WARNING: ${oldFunc} is deprecated.`);\n  } else {\n    console.warn(`WARNING: ${oldFunc} is deprecated. Please use ${newFunc} instead.`);\n  }\n}\n","/**\n * Makes a query string.\n * @param {object} obj - an object of keys\n * @returns {string} a query string\n */\nexport default function makeQueryString(obj) {\n  const parts = Object.keys(obj).reduce((curr, key) => {\n    const val = Array.isArray(obj[key]) ? obj[key].join('+') : obj[key];\n    curr.push(`${encodeURIComponent(key)}=${encodeURIComponent(val)}`);\n    return curr;\n  }, []);\n\n  if (parts.length) {\n    return `?${parts.join('&')}`;\n  }\n\n  return '';\n}\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    var\n      contentType = req.header('Content-Type'),\n      hasJsonContentType = contentType &&\n                           contentType.indexOf('application/json') !== -1;\n\n    if (contentType != null && !hasJsonContentType) {\n      return;\n    }\n\n    if (req.body) {\n      if (!contentType) {\n        req.header('Content-Type', 'application/json');\n      }\n\n      req.body = JSON.stringify(req.body);\n    }\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    var accept = req.header('Accept');\n    if (accept == null) {\n      req.header('Accept', 'application/json');\n    }\n  },\n  processResponse: function(res) {\n    // Check to see if the contentype is \"something/json\" or\n    // \"something/somethingelse+json\"\n    if (res.contentType && /^.*\\/(?:.*\\+)?json(;|$)/i.test(res.contentType)) {\n      var raw = typeof res.body === 'string' ? res.body : res.text;\n      if (raw) {\n        res.body = JSON.parse(raw);\n      }\n    }\n  }\n};\n","'use strict';\n\nvar jsonrequest = require('./jsonrequest'),\n    jsonresponse = require('./jsonresponse');\n\nmodule.exports = {\n  processRequest: function(req) {\n    jsonrequest.processRequest.call(this, req);\n    jsonresponse.processRequest.call(this, req);\n  },\n  processResponse: function(res) {\n    jsonresponse.processResponse.call(this, res);\n  }\n};\n","'use strict';\n\nmodule.exports = {\n  processRequest: function(req) {\n    req.url = req.url.replace(/[^%]+/g, function(s) {\n      return encodeURI(s);\n    });\n  }\n};\n","module.exports = window.XMLHttpRequest;\n","'use strict';\n\n// Wrap a function in a `setTimeout` call. This is used to guarantee async\n// behavior, which can avoid unexpected errors.\n\nmodule.exports = function(fn) {\n  return function() {\n    var\n      args = Array.prototype.slice.call(arguments, 0),\n      newFunc = function() {\n        return fn.apply(null, args);\n      };\n    setTimeout(newFunc, 0);\n  };\n};\n","'use strict';\n\nfunction Request(optsOrUrl) {\n  var opts = typeof optsOrUrl === 'string' ? {url: optsOrUrl} : optsOrUrl || {};\n  this.method = opts.method ? opts.method.toUpperCase() : 'GET';\n  this.url = opts.url;\n  this.headers = opts.headers || {};\n  this.body = opts.body;\n  this.timeout = opts.timeout || 0;\n  this.errorOn404 = opts.errorOn404 != null ? opts.errorOn404 : true;\n  this.onload = opts.onload;\n  this.onerror = opts.onerror;\n}\n\nRequest.prototype.abort = function() {\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  return this;\n};\n\nRequest.prototype.header = function(name, value) {\n  var k;\n  for (k in this.headers) {\n    if (this.headers.hasOwnProperty(k)) {\n      if (name.toLowerCase() === k.toLowerCase()) {\n        if (arguments.length === 1) {\n          return this.headers[k];\n        }\n\n        delete this.headers[k];\n        break;\n      }\n    }\n  }\n  if (value != null) {\n    this.headers[name] = value;\n    return value;\n  }\n};\n\n\nmodule.exports = Request;\n","module.exports = extend\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict';\n\nvar extend = require('xtend');\n\nmodule.exports = function(req) {\n  var xhr = req.xhr;\n  var props = {request: req, xhr: xhr};\n\n  // Try to create the response from the request. If the request was aborted,\n  // accesssing properties of the XHR may throw an error, so we wrap in a\n  // try/catch.\n  try {\n    var lines, i, m, headers = {};\n    if (xhr.getAllResponseHeaders) {\n      lines = xhr.getAllResponseHeaders().split('\\n');\n      for (i = 0; i < lines.length; i++) {\n        if ((m = lines[i].match(/\\s*([^\\s]+):\\s+([^\\s]+)/))) {\n          headers[m[1]] = m[2];\n        }\n      }\n    }\n\n    props = extend(props, {\n      status: xhr.status,\n      contentType: xhr.contentType || (xhr.getResponseHeader && xhr.getResponseHeader('Content-Type')),\n      headers: headers,\n      text: xhr.responseText,\n      body: xhr.response || xhr.responseText\n    });\n  } catch (err) {}\n\n  return props;\n};\n","'use strict';\n\nvar Request = require('./request');\nvar extractResponseProps = require('./utils/extractResponseProps');\n\nfunction Response(props) {\n  this.request = props.request;\n  this.xhr = props.xhr;\n  this.headers = props.headers || {};\n  this.status = props.status || 0;\n  this.text = props.text;\n  this.body = props.body;\n  this.contentType = props.contentType;\n  this.isHttpError = props.status >= 400;\n}\n\nResponse.prototype.header = Request.prototype.header;\n\nResponse.fromRequest = function(req) {\n  return new Response(extractResponseProps(req));\n};\n\n\nmodule.exports = Response;\n","'use strict';\n\nvar Response = require('./response');\nvar extractResponseProps = require('./utils/extractResponseProps');\nvar extend = require('xtend');\n\nfunction RequestError(message, props) {\n  var err = new Error(message);\n  err.name = 'RequestError';\n  this.name = err.name;\n  this.message = err.message;\n  if (err.stack) {\n    this.stack = err.stack;\n  }\n\n  this.toString = function() {\n    return this.message;\n  };\n\n  for (var k in props) {\n    if (props.hasOwnProperty(k)) {\n      this[k] = props[k];\n    }\n  }\n}\n\nRequestError.prototype = extend(Error.prototype);\nRequestError.prototype.constructor = RequestError;\n\nRequestError.create = function(message, req, props) {\n  var err = new RequestError(message, props);\n  Response.call(err, extractResponseProps(req));\n  return err;\n};\n\nmodule.exports = RequestError;\n","'use strict';\n\n// A \"once\" utility.\nmodule.exports = function(fn) {\n  var result, called = false;\n  return function() {\n    if (!called) {\n      called = true;\n      result = fn.apply(this, arguments);\n    }\n    return result;\n  };\n};\n","'use strict';\n\nvar\n  cleanURL = require('../plugins/cleanurl'),\n  XHR = require('./xhr'),\n  delay = require('./utils/delay'),\n  RequestError = require('./error'),\n  Response = require('./response'),\n  Request = require('./request'),\n  extend = require('xtend'),\n  once = require('./utils/once');\n\nvar i,\n    createError = RequestError.create;\n\nfunction factory(defaults, plugins) {\n  defaults = defaults || {};\n  plugins = plugins || [];\n\n  function http(req, cb) {\n    var xhr, plugin, done, k, timeoutId, supportsLoadAndErrorEvents;\n\n    req = new Request(extend(defaults, req));\n\n    for (i = 0; i < plugins.length; i++) {\n      plugin = plugins[i];\n      if (plugin.processRequest) {\n        plugin.processRequest(req);\n      }\n    }\n\n    // Give the plugins a chance to create the XHR object\n    for (i = 0; i < plugins.length; i++) {\n      plugin = plugins[i];\n      if (plugin.createXHR) {\n        xhr = plugin.createXHR(req);\n        break; // First come, first serve\n      }\n    }\n    xhr = xhr || new XHR();\n\n    req.xhr = xhr;\n\n    // Use a single completion callback. This can be called with or without\n    // an error. If no error is passed, the request will be examined to see\n    // if it was successful.\n    done = once(delay(function(rawError) {\n      clearTimeout(timeoutId);\n      xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = xhr.ontimeout = xhr.onprogress = null;\n\n      var err = getError(req, rawError);\n\n      var res = err || Response.fromRequest(req);\n      for (i = 0; i < plugins.length; i++) {\n        plugin = plugins[i];\n        if (plugin.processResponse) {\n          plugin.processResponse(res);\n        }\n      }\n\n      // Invoke callbacks\n      if (err && req.onerror) req.onerror(err);\n      if (!err && req.onload) req.onload(res);\n      if (cb) cb(err, err ? undefined : res);\n\n    }));\n\n    supportsLoadAndErrorEvents = ('onload' in xhr) && ('onerror' in xhr);\n    xhr.onload = function() { done(); };\n    xhr.onerror = done;\n    xhr.onabort = function() { done(); };\n\n    // We'd rather use `onload`, `onerror`, and `onabort` since they're the\n    // only way to reliably detect successes and failures but, if they\n    // aren't available, we fall back to using `onreadystatechange`.\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState !== 4) return;\n\n      if (req.aborted) return done();\n\n      if (!supportsLoadAndErrorEvents) {\n        // Assume a status of 0 is an error. This could be a false\n        // positive, but there's no way to tell when using\n        // `onreadystatechange` ):\n        // See matthewwithanm/react-inlinesvg#10.\n\n        // Some browsers don't like you reading XHR properties when the\n        // XHR has been aborted. In case we've gotten here as a result\n        // of that (either our calling `about()` in the timeout handler\n        // or the user calling it directly even though they shouldn't),\n        // be careful about accessing it.\n        var status;\n        try {\n          status = xhr.status;\n        } catch (err) {}\n        var err = status === 0 ? new Error('Internal XHR Error') : null;\n        return done(err);\n      }\n    };\n\n    // IE sometimes fails if you don't specify every handler.\n    // See http://social.msdn.microsoft.com/Forums/ie/en-US/30ef3add-767c-4436-b8a9-f1ca19b4812e/ie9-rtm-xdomainrequest-issued-requests-may-abort-if-all-event-handlers-not-specified?forum=iewebdevelopment\n    xhr.ontimeout = function() { /* noop */ };\n    xhr.onprogress = function() { /* noop */ };\n\n    xhr.open(req.method, req.url);\n\n    if (req.timeout) {\n      // If we use the normal XHR timeout mechanism (`xhr.timeout` and\n      // `xhr.ontimeout`), `onreadystatechange` will be triggered before\n      // `ontimeout`. There's no way to recognize that it was triggered by\n      // a timeout, and we'd be unable to dispatch the right error.\n      timeoutId = setTimeout(function() {\n        req.timedOut = true;\n        done();\n        try {\n          xhr.abort();\n        } catch (err) {}\n      }, req.timeout);\n    }\n\n    for (k in req.headers) {\n      if (req.headers.hasOwnProperty(k)) {\n        xhr.setRequestHeader(k, req.headers[k]);\n      }\n    }\n\n    xhr.send(req.body);\n\n    return req;\n  }\n\n  var method,\n    methods = ['get', 'post', 'put', 'head', 'patch', 'delete'],\n    verb = function(method) {\n      return function(req, cb) {\n        req = new Request(req);\n        req.method = method;\n        return http(req, cb);\n      };\n    };\n  for (i = 0; i < methods.length; i++) {\n    method = methods[i];\n    http[method] = verb(method);\n  }\n\n  http.plugins = function() {\n    return plugins;\n  };\n\n  http.defaults = function(newValues) {\n    if (newValues) {\n      return factory(extend(defaults, newValues), plugins);\n    }\n    return defaults;\n  };\n\n  http.use = function() {\n    var newPlugins = Array.prototype.slice.call(arguments, 0);\n    return factory(defaults, plugins.concat(newPlugins));\n  };\n\n  http.bare = function() {\n    return factory();\n  };\n\n  http.Request = Request;\n  http.Response = Response;\n  http.RequestError = RequestError;\n\n  return http;\n}\n\nmodule.exports = factory({}, [cleanURL]);\n\n/**\n * Analyze the request to see if it represents an error. If so, return it! An\n * original error object can be passed as a hint.\n */\nfunction getError(req, err) {\n  if (req.aborted) return createError('Request aborted', req, {name: 'Abort'});\n\n  if (req.timedOut) return createError('Request timeout', req, {name: 'Timeout'});\n\n  var xhr = req.xhr;\n  var type = Math.floor(xhr.status / 100);\n\n  var kind;\n  switch (type) {\n    case 0:\n    case 2:\n      // These don't represent errors unless the function was passed an\n      // error object explicitly.\n      if (!err) return;\n      return createError(err.message, req);\n    case 4:\n      // Sometimes 4XX statuses aren't errors.\n      if (xhr.status === 404 && !req.errorOn404) return;\n      kind = 'Client';\n      break;\n    case 5:\n      kind = 'Server';\n      break;\n    default:\n      kind = 'HTTP';\n  }\n  var msg = kind + ' Error: ' +\n        'The server returned a status of ' + xhr.status +\n        ' for the request \"' +\n        req.method.toUpperCase() + ' ' + req.url + '\"';\n  return createError(msg, req);\n}\n","import json from 'httpplease/plugins/json';\nimport httpplease from 'httpplease';\n\nconst request = httpplease.use(json);\n\nfunction send(method, url, args) {\n  return new Promise((resolve, reject) => {\n    request({ method, url, body: args }, (err, res) => {\n      if (err) {\n        const error = (err && err.body && err.body.meta && err.body.meta.errorMessage)\n          ? new Error(err.body.meta.errorMessage)\n          : err;\n        error.status = err.status;\n        reject(error);\n      } else {\n        resolve(res);\n      }\n    });\n  });\n}\n\nexport function get(url) {\n  return send('GET', url);\n}\n\nexport function post(url, args) {\n  return send('POST', url, args);\n}\n","import segmentify from './segmentify';\nimport makeQueryString from './makeQueryString';\nimport { get } from './request';\n\nexport default function findSegments(agent, opts = {}) {\n  return get(`${agent.url}/segments${makeQueryString(opts)}`)\n    .then(res => res.body.map(obj => segmentify(agent, obj)));\n}\n","import findSegments from './findSegments';\nimport deprecated from './deprecated';\n\nexport default function getBranches(agent, prevLinkHash, tags = []) {\n  deprecated(\n    'Agent#getBranches(agent, prevLinkHash, tags = [])',\n    'Agent#findSegments(agent, filter)'\n  );\n\n  return findSegments(agent, { prevLinkHash, tags });\n}\n","import deprecated from './deprecated';\nimport getBranches from './getBranches';\nimport { post } from './request';\n\nexport default function segmentify(agent, obj) {\n  Object\n    .keys(agent.agentInfo.actions)\n    .filter(key => ['init'].indexOf(key) < 0)\n    .forEach(key => {\n      /*eslint-disable*/\n      obj[key] = (...args) =>\n        post(`${agent.url}/segments/${obj.meta.linkHash}/${key}`, args)\n          .then(res => segmentify(agent, res.body))\n    });\n\n  /*eslint-disable*/\n  obj.getPrev = () => {\n    /*eslint-enable*/\n    if (obj.link.meta.prevLinkHash) {\n      return agent.getSegment(obj.link.meta.prevLinkHash);\n    }\n\n    return Promise.resolve(null);\n  };\n\n  // Deprecated.\n  /*eslint-disable*/\n  obj.load = () => {\n    /*eslint-enable*/\n    deprecated('segment#load()');\n    return Promise.resolve(segmentify(agent, {\n      link: JSON.parse(JSON.stringify(obj.link)),\n      meta: JSON.parse(JSON.stringify(obj.meta))\n    }));\n  };\n\n  // Deprecated.\n  /*eslint-disable*/\n  obj.getBranches = (...args) => {\n    /*eslint-enable*/\n    return getBranches(agent, obj.meta.linkHash, ...args);\n  };\n\n  return obj;\n}\n","import segmentify from './segmentify';\nimport { post } from './request';\n\nexport default function createMap(agent, ...args) {\n  return post(`${agent.url}/segments`, args)\n    .then(res => segmentify(agent, res.body));\n}\n","import segmentify from './segmentify';\nimport { get } from './request';\n\nexport default function getSegment(agent, linkHash) {\n  return get(`${agent.url}/segments/${linkHash}`)\n    .then(res => segmentify(agent, res.body));\n}\n","import makeQueryString from './makeQueryString';\nimport { get } from './request';\n\nexport default function getMapIds(agent, opts = {}) {\n  return get(`${agent.url}/maps${makeQueryString(opts)}`)\n    .then(res => res.body);\n}\n","import getSegment from './getSegment';\nimport deprecated from './deprecated';\n\nexport default function getLink(agent, hash) {\n  deprecated('Agent#getLink(agent, hash)', 'Agent#getSegment(agent, hash)');\n\n  return getSegment(agent, hash);\n}\n","import findSegments from './findSegments';\nimport deprecated from './deprecated';\n\nexport default function getMap(agent, mapId, tags = []) {\n  deprecated('getMap(agent, mapId, tags = [])', 'findSegments(agent, filter)');\n\n  return findSegments(agent, { mapId, tags });\n}\n","import createMap from './createMap';\nimport getSegment from './getSegment';\nimport findSegments from './findSegments';\nimport getMapIds from './getMapIds';\nimport { get } from './request';\n\n// Deprecated.\nimport getBranches from './getBranches';\nimport getLink from './getLink';\nimport getMap from './getMap';\n\nexport default function getAgent(url) {\n  return get(url)\n    .then(res => {\n      const agent = res.body;\n\n      agent.url = url;\n      agent.createMap = createMap.bind(null, agent);\n      agent.getSegment = getSegment.bind(null, agent);\n      agent.findSegments = findSegments.bind(null, agent);\n      agent.getMapIds = getMapIds.bind(null, agent);\n\n      // Deprecated.\n      agent.getBranches = getBranches.bind(null, agent);\n      agent.getLink = getLink.bind(null, agent);\n      agent.getMap = getMap.bind(null, agent);\n\n      return agent;\n    });\n}\n","import getAgent from './getAgent';\nimport segmentify from './segmentify';\n\nexport default function fromSegment(obj) {\n  return getAgent(obj.meta.agentUrl || obj.meta.applicationLocation)\n    .then(agent => {\n      const segment = segmentify(agent, obj);\n      return { agent, segment };\n    });\n}\n","// Deprecated.\nexport default {\n  applicationUrl: 'https://%s.stratumn.rocks'\n};\n","import getAgent from './getAgent';\nimport deprecated from './deprecated';\nimport config from './config';\n\nexport default function getApplication(name, url) {\n  deprecated('getApplication(name, url)', 'getAgent(url)');\n\n  return getAgent(url || config.applicationUrl.replace('%s', name));\n}\n","import fromSegment from './fromSegment';\nimport deprecated from './deprecated';\n\nexport default function loadLink(obj) {\n  deprecated('loadLink(obj)', 'fromSegment(obj)');\n\n  return fromSegment(obj)\n    .then(({ segment }) => segment);\n}\n"],"names":["deprecated","oldFunc","newFunc","warn","makeQueryString","obj","parts","Object","keys","reduce","curr","key","val","Array","isArray","join","push","encodeURIComponent","length","commonjsHelpers.interopDefault","request","httpplease","use","json","send","method","url","args","Promise","resolve","reject","body","err","res","error","meta","errorMessage","Error","status","get","post","findSegments","agent","opts","then","map","segmentify","getBranches","prevLinkHash","tags","agentInfo","actions","filter","indexOf","forEach","linkHash","getPrev","link","getSegment","load","JSON","parse","stringify","createMap","getMapIds","getLink","hash","getMap","mapId","getAgent","bind","fromSegment","agentUrl","applicationLocation","segment","getApplication","name","config","applicationUrl","replace","loadLink"],"mappings":"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"}